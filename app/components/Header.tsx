import { ModeToggle } from "@/components/ui/darkmode";
import { getUser } from "@/utils/supabase/server";
import Link from "next/link";
import SignOutButton from "./SignOutButton";
import SignInButton from "./SignInButton";
import AccountButton from "./AccountButton";

export default async function Header() {
	const user = await getUser();

	return (
		<div className="flex pt-8 justify-center">
			<Link href="/" className="text-4xl font-bold mb-6 text-center">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="398"
					height="30"
					fill="none"
					viewBox="0 0 398 30"
					className="text-center sm:w-72 lg:w-[300px] xl:w-[400px] h-full"
				>
					<path
						fill="#DD2B32"
						d="M55.852 29.25H36.976a1.5 1.5 0 0 1-1.494-1.509V2.2a1.5 1.5 0 0 1 1.494-1.51h18.69A1.5 1.5 0 0 1 57.16 2.2v4.338a1.5 1.5 0 0 1-1.493 1.509H44.782a1.5 1.5 0 0 0-1.494 1.51v.143a1.5 1.5 0 0 0 1.494 1.509H54a1.5 1.5 0 0 1 1.493 1.51v4.334A1.5 1.5 0 0 1 54 18.56h-9.22a1.5 1.5 0 0 0-1.493 1.51v.33a1.5 1.5 0 0 0 1.494 1.509h11.07a1.5 1.5 0 0 1 1.493 1.51v4.337a1.5 1.5 0 0 1-1.493 1.51v-.017ZM81.034 29.258H76.25c-.5 0-.95-.308-1.135-.78L64.833 2.392c-.321-.811.271-1.693 1.135-1.693h5.915c.512 0 .969.32 1.148.807l4.538 12.455c.392 1.079 1.9 1.079 2.296 0l4.538-12.455a1.22 1.22 0 0 1 1.148-.807h5.766c.864 0 1.456.882 1.136 1.693l-10.28 26.088c-.186.47-.636.78-1.136.78h-.003ZM119.202 15.054c0 4.07-2.885 7.141-6.711 7.141-3.868 0-6.787-3.102-6.787-7.216v-.074c0-4.07 2.885-7.138 6.713-7.138 3.869 0 6.785 3.102 6.785 7.215v.075-.003ZM123.139 4.5c-2.752-2.773-6.532-4.3-10.648-4.3-8.364 0-14.917 6.492-14.917 14.78v.075c0 3.98 1.49 7.671 4.196 10.403 2.749 2.772 6.529 4.3 10.647 4.3 8.365 0 14.918-6.492 14.918-14.778v-.074c0-3.98-1.49-7.672-4.196-10.403M25.168 29.672H18.13c-.348 0-.675-.178-.87-.47l-5.226-7.953a1.043 1.043 0 0 0-.87-.47H9.658c-.577 0-1.043.47-1.043 1.054v6.785c0 .583-.466 1.054-1.043 1.054H1.56c-.577 0-1.043-.47-1.043-1.054v-4.356c0-.222.071-.44.2-.62l7.168-9.967c.197-.271.509-.433.842-.433h4.921c2.256 0 3.551-1.045 3.551-2.863v-.078c0-1.712-.94-2.647-2.875-2.86h-.019c-.796-.087-1.203-1.013-.73-1.67L17.21.714c.259-.358.713-.517 1.135-.393 4.47 1.32 7.032 4.84 7.032 9.66v.082c0 3.748-1.534 6.708-4.372 8.538a1.062 1.062 0 0 0-.309 1.484l5.335 7.943c.469.698-.025 1.646-.864 1.646v-.003Z"
					></path>
					<g className="hidden md:block">
						<path
							fill="#333132"
							d="M147.81 2.013v25.942c0 .529.423.957.947.957h.143a.95.95 0 0 0 .946-.957V17.247c0-.529.424-.957.947-.957h13.578a.95.95 0 0 0 .946-.957.95.95 0 0 0-.946-.956h-13.584a.952.952 0 0 1-.947-.957V3.914c0-.528.424-.956.947-.956h15.334a.952.952 0 0 0 .947-.957.952.952 0 0 0-.947-.957h-17.364a.979.979 0 0 0-.947.97ZM185.267 1.05h-.137a.952.952 0 0 0-.947.957V27.95c0 .528.424.957.947.957h.137a.952.952 0 0 0 .947-.957V2.007a.952.952 0 0 0-.947-.956ZM229.375 2.004a.951.951 0 0 0-.947-.957h-19.201a.952.952 0 0 0-.947.957c0 .529.424.957.947.957h7.642c.523 0 .947.428.947.957v24.034a.95.95 0 0 0 .946.957h.143a.951.951 0 0 0 .947-.957V3.918c0-.529.424-.957.947-.957h7.642a.952.952 0 0 0 .947-.957h-.013ZM273.901 27.946V2.004a.951.951 0 0 0-.947-.957h-.062a.952.952 0 0 0-.947.957v20.522c0 .906-1.133 1.303-1.688.591L253.36 1.42a.936.936 0 0 0-.741-.365h-.511a.95.95 0 0 0-.946.956v25.942a.95.95 0 0 0 .946.957h.063a.95.95 0 0 0 .946-.957V6.914c0-.906 1.134-1.303 1.688-.591l17.284 22.214c.18.233.454.365.741.365h.118a.952.952 0 0 0 .947-.956h.006ZM317.3 27.968a.951.951 0 0 0-.947-.957h-15.726a.952.952 0 0 1-.947-.957v-9.272c0-.53.424-.957.947-.957h13.771a.95.95 0 0 0 .946-.957.95.95 0 0 0-.946-.957h-13.771a.952.952 0 0 1-.947-.957V3.921c0-.529.424-.957.947-.957h15.533a.952.952 0 0 0 .947-.957.952.952 0 0 0-.947-.956h-17.563a.951.951 0 0 0-.947.956V27.95c0 .528.423.957.947.957h17.756a.951.951 0 0 0 .947-.957v.019ZM357.765 21.71v-.082c0-4.06-2.653-6.364-8.987-7.68-6.484-1.353-7.966-3.14-7.966-6.087V7.78c0-2.902 2.659-5.25 6.683-5.25 2.728 0 5.101.718 7.442 2.544a.934.934 0 0 0 1.315-.158l.093-.12a.97.97 0 0 0-.181-1.372c-2.497-1.857-4.982-2.77-8.588-2.77-5.083 0-8.788 3.186-8.788 7.322v.081c0 4.218 2.653 6.484 9.217 7.838 6.21 1.271 7.736 2.983 7.736 5.93v.081c0 3.185-2.815 5.527-6.913 5.527-3.713 0-6.36-1.12-9.106-3.506a.938.938 0 0 0-1.327.1l-.081.095a.971.971 0 0 0 .119 1.372c3.051 2.55 6.228 3.809 10.276 3.809 5.269 0 9.062-3.104 9.062-7.598M398 21.71v-.082c0-4.06-2.653-6.364-8.987-7.68-6.484-1.353-7.966-3.14-7.966-6.087V7.78c0-2.902 2.653-5.25 6.683-5.25 2.728 0 5.101.718 7.442 2.544a.932.932 0 0 0 1.315-.158l.093-.12a.967.967 0 0 0-.187-1.372c-2.497-1.857-4.982-2.77-8.589-2.77-5.082 0-8.788 3.186-8.788 7.322v.081c0 4.218 2.654 6.484 9.218 7.838 6.21 1.271 7.736 2.983 7.736 5.93v.081c0 3.185-2.815 5.527-6.914 5.527-3.712 0-6.359-1.12-9.105-3.506a.938.938 0 0 0-1.327.1l-.081.095a.972.972 0 0 0 .118 1.372c3.052 2.55 6.229 3.809 10.277 3.809 5.275 0 9.062-3.104 9.062-7.598"
						></path>
					</g>
				</svg>
			</Link>
			<div className="absolute top-8 left-8 z-50 hidden md:block">
				<ModeToggle></ModeToggle>
			</div>
			<div className="absolute top-8 right-8 z-50">
				{user && <AccountButton></AccountButton>}
				{!user && <SignInButton></SignInButton>}
			</div>
		</div>
	);
}
